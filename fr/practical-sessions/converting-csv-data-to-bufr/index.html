
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://training.wis2box.wis.wmo.int/fr/practical-sessions/converting-csv-data-to-bufr/">
      
      
        <link rel="prev" href="../connecting-to-wis2-over-mqtt/">
      
      
        <link rel="next" href="../converting-synop-data-to-bufr-form/">
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Conversion des données CSV en BUFR - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#conversion-des-donnees-csv-en-bufr" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Conversion des données CSV en BUFR
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sélectionner la langue">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../es/practical-sessions/converting-csv-data-to-bufr/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/practical-sessions/converting-csv-data-to-bufr/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ru/practical-sessions/converting-csv-data-to-bufr/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ar/practical-sessions/converting-csv-data-to-bufr/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Aide-mémoire
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Aide-mémoire
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WIS2 in a box cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Modèles csv2bufr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Modèles csv2bufr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modèle AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modèle DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sessions pratiques
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sessions pratiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connexion à WIS2 via MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accessing-your-student-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accéder à votre VM étudiant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../initializing-wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Initialisation de wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-wis2box-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration des jeux de données dans wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-station-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration des métadonnées des stations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingesting-data-for-publication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingestion de données pour publication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-conversion-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Outils de conversion de données
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv2bufr-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modèles de mappage de CSV à BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ajout d'en-têtes GTS aux notifications WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets-with-access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration d'un ensemble de données recommandé avec contrôle d'accès
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../downloading-data-from-wis2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Téléchargement et décodage des données depuis WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Découverte de jeux de données depuis le Catalogue de Découverte Global WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Préparation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-1-utilisation-de-csv2bufr-avec-le-modele-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Exercice 1 : Utilisation de csv2bufr avec le modèle 'AWS'
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercice 1 : Utilisation de csv2bufr avec le modèle &#39;AWS&#39;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examiner-les-donnees-dentree-aws-example" class="md-nav__link">
    <span class="md-ellipsis">
      Examiner les données d'entrée aws-example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mettre-a-jour-le-fichier-exemple" class="md-nav__link">
    <span class="md-ellipsis">
      Mettre à jour le fichier exemple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telechargez-les-donnees-sur-minio-et-verifiez-le-resultat" class="md-nav__link">
    <span class="md-ellipsis">
      Téléchargez les données sur MinIO et vérifiez le résultat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-2-utilisation-du-modele-daycli" class="md-nav__link">
    <span class="md-ellipsis">
      Exercice 2 - Utilisation du modèle 'DayCLI'
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercice 2 - Utilisation du modèle &#39;DayCLI&#39;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creation-dun-jeu-de-donnees-wis2box-pour-la-publication-de-messages-daycli" class="md-nav__link">
    <span class="md-ellipsis">
      Création d'un jeu de données wis2box pour la publication de messages DAYCLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examiner-les-donnees-dentree-daycli-example" class="md-nav__link">
    <span class="md-ellipsis">
      Examiner les données d'entrée daycli-example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mettre-a-jour-le-fichier-exemple_1" class="md-nav__link">
    <span class="md-ellipsis">
      Mettre à jour le fichier exemple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#telechargez-les-donnees-sur-minio-et-verifiez-le-resultat_1" class="md-nav__link">
    <span class="md-ellipsis">
      Téléchargez les données sur MinIO et vérifiez le résultat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-3-utilisation-du-formulaire-csv-dans-lapplication-web-wis2box-optionnel" class="md-nav__link">
    <span class="md-ellipsis">
      Exercice 3 - Utilisation du formulaire CSV dans l'application web wis2box (optionnel)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercice 3 - Utilisation du formulaire CSV dans l&#39;application web wis2box (optionnel)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utilisation-du-formulaire-csv-dans-lapplication-web-wis2box" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation du formulaire CSV dans l'application web wis2box
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debogage-des-donnees-dentree-invalides" class="md-nav__link">
    <span class="md-ellipsis">
      Débogage des données d'entrée invalides
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="conversion-des-donnees-csv-en-bufr">Conversion des données CSV en BUFR</h1>
<div class="admonition abstract">
<p class="admonition-title">Résultats d'apprentissage</p>
<p>À la fin de cette session pratique, vous serez capable de :</p>
<ul>
<li>utiliser l'<strong>interface utilisateur MinIO</strong> pour télécharger des fichiers de données CSV et surveiller le résultat</li>
<li>connaître le format des données CSV à utiliser avec le modèle BUFR de station météorologique automatique par défaut</li>
<li>utiliser l'éditeur de jeux de données dans l'<strong>application web wis2box</strong> pour créer un jeu de données pour la publication de messages DAYCLI</li>
<li>connaître le format des données CSV à utiliser avec le modèle BUFR DAYCLI</li>
<li>utiliser l'<strong>application web wis2box</strong> pour valider et convertir des données d'exemple pour les stations AWS en BUFR (optionnel)</li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<p>Les fichiers de données à valeurs séparées par des virgules (CSV) sont souvent utilisés pour enregistrer des observations et d'autres données dans un format tabulaire.
La plupart des enregistreurs de données utilisés pour enregistrer la sortie des capteurs sont capables d'exporter les observations dans des fichiers délimités, y compris en CSV.
De même, lorsque les données sont ingérées dans une base de données, il est facile d'exporter les données requises dans des fichiers formatés CSV.
Pour faciliter l'échange de données initialement stockées dans des formats de données tabulaires, un convertisseur de CSV en BUFR a été implémenté dans
le wis2box en utilisant le même logiciel que pour SYNOP en BUFR.</p>
<p>Dans cette session, vous apprendrez à utiliser le convertisseur csv2bufr dans le wis2box pour les modèles intégrés suivants :</p>
<ul>
<li><strong>AWS</strong> (aws-template.json) : Modèle de mappage pour convertir les données CSV d'un fichier de station météorologique automatique simplifié en séquence BUFR 301150, 307096"</li>
<li><strong>DayCLI</strong> (daycli-template.json) : Modèle de mappage pour convertir les données CSV climatiques quotidiennes en séquence BUFR 307075</li>
</ul>
<h2 id="preparation">Préparation</h2>
<p>Assurez-vous que la pile wis2box a été démarrée avec <code>python3 wis2box.py start</code></p>
<p>Assurez-vous que vous avez un navigateur web ouvert avec l'interface utilisateur MinIO pour votre instance en allant sur <code>http://&lt;votre-hôte&gt;:9000</code>
Si vous ne vous souvenez pas de vos identifiants MinIO, vous pouvez les trouver dans le fichier <code>wis2box.env</code> dans le répertoire <code>wis2box-1.0.0rc1</code> sur votre VM étudiant.</p>
<p>Assurez-vous que vous avez MQTT Explorer ouvert et connecté à votre courtier en utilisant les identifiants <code>everyone/everyone</code>.</p>
<h2 id="exercice-1-utilisation-de-csv2bufr-avec-le-modele-aws">Exercice 1 : Utilisation de csv2bufr avec le modèle 'AWS'</h2>
<p>Le modèle 'AWS' fournit un modèle de mappage prédéfini pour convertir les données CSV des stations AWS en support des exigences de rapport GBON.</p>
<p>La description du modèle AWS peut être trouvée <a href="../../csv2bufr-templates/aws-template/">ici</a>.</p>
<h3 id="examiner-les-donnees-dentree-aws-example">Examiner les données d'entrée aws-example</h3>
<p>Téléchargez l'exemple pour cet exercice depuis le lien ci-dessous :</p>
<p><a href="../../../sample-data/aws-example.csv">aws-example.csv</a></p>
<p>Ouvrez le fichier que vous avez téléchargé dans un éditeur et inspectez le contenu :</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>En examinant les champs de date, d'heure et d'identité (identifiants WIGOS et traditionnels), que remarquez-vous ? Comment la date d'aujourd'hui serait-elle représentée ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Chaque colonne contient une seule information. Par exemple, la date est divisée en
année, mois et jour, reflétant la manière dont les données sont stockées en BUFR. La date d'aujourd'hui serait 
divisée à travers les colonnes "année", "mois" et "jour". De même, l'heure doit être
divisée en "heure" et "minute" et l'identifiant de la station WIGOS en ses composants respectifs.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>En regardant le fichier de données, comment les données manquantes sont-elles codées ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Les données manquantes dans le fichier sont représentées par des cellules vides. Dans un fichier CSV, cela serait codé par <code>,,</code>. Notez qu'il s'agit d'une cellule vide et non codée comme une chaîne de longueur zéro, 
par exemple <code>,"",</code>.</p>
</details>
<div class="admonition hint">
<p class="admonition-title">Données manquantes</p>
<p>Il est reconnu que les données peuvent manquer pour diverses raisons, que ce soit en raison d'une défaillance du capteur ou du paramètre non observé. Dans ces cas, les données manquantes peuvent être codées
comme indiqué ci-dessus, les autres données dans le rapport restent valides.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Quels sont les identifiants des stations WIGOS pour les stations qui rapportent des données dans le fichier exemple ? Comment est-il défini dans le fichier d'entrée ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>L'identifiant de la station WIGOS est défini par 4 colonnes séparées dans le fichier :</p>
<ul>
<li><strong>wsi_series</strong> : série d'identifiants WIGOS</li>
<li><strong>wsi_issuer</strong> : émetteur de l'identifiant WIGOS</li>
<li><strong>wsi_issue_number</strong> : numéro d'émission WIGOS</li>
<li><strong>wsi_local</strong> : identifiant local WIGOS</li>
</ul>
<p>Les identifiants des stations WIGOS utilisés dans le fichier exemple sont <code>0-20000-0-60351</code>, <code>0-20000-0-60355</code> et <code>0-20000-0-60360</code>.    </p>
</details>
<h3 id="mettre-a-jour-le-fichier-exemple">Mettre à jour le fichier exemple</h3>
<p>Mettez à jour le fichier exemple que vous avez téléchargé pour utiliser la date et l'heure d'aujourd'hui et changez les identifiants des stations WIGOS pour utiliser les stations que vous avez enregistrées dans l'application web wis2box.</p>
<h3 id="telechargez-les-donnees-sur-minio-et-verifiez-le-resultat">Téléchargez les données sur MinIO et vérifiez le résultat</h3>
<p>Naviguez vers l'interface utilisateur MinIO et connectez-vous en utilisant les identifiants du fichier <code>wis2box.env</code>.</p>
<p>Naviguez vers <strong>wis2box-incoming</strong> et cliquez sur le bouton "Créer un nouveau chemin" :</p>
<p><img alt="Image montrant l'interface utilisateur MinIO avec le bouton de création de dossier en surbrillance" src="/../assets/img/minio-create-new-path.png"/></p>
<p>Créez un nouveau dossier dans le seau MinIO qui correspond à l'identifiant du jeu de données pour le jeu de données que vous avez créé avec le modèle='weather/surface-weather-observations/synop' :</p>
<p><img alt="Image montrant l'interface utilisateur MinIO avec le bouton de création de dossier en surbrillance" src="/../assets/img/minio-create-new-path-metadata_id.png"/></p>
<p>Téléchargez le fichier exemple que vous avez téléchargé dans le dossier que vous avez créé dans le seau MinIO :</p>
<p><img alt="Image montrant l'interface utilisateur MinIO avec aws-example téléchargé" src="/../assets/img/minio-upload-aws-example.png"/></center></p>
<p>Vérifiez le tableau de bord Grafana à <code>http://&lt;votre-hôte&gt;:3000</code> pour voir s'il y a des AVERTISSEMENTS ou des ERREURS. Si vous en voyez, essayez de les corriger et répétez l'exercice.</p>
<p>Vérifiez l'explorateur MQTT pour voir si vous recevez des notifications de données WIS2.</p>
<p>Si vous avez réussi à ingérer les données, vous devriez voir 3 notifications dans l'explorateur MQTT sur le sujet <code>origin/a/wis2/&lt;centre-id&gt;/data/weather/surface-weather-observations/synop</code> pour les 3 stations pour lesquelles vous avez rapporté des données :</p>
<p><img width="450" alt="Image montrant l'explorateur MQTT après le téléchargement d'AWS" src="/../assets/img/mqtt-explorer-aws-upload.png"/></p>
<h2 id="exercice-2-utilisation-du-modele-daycli">Exercice 2 - Utilisation du modèle 'DayCLI'</h2>
<p>Dans l'exercice précédent, nous avons utilisé le jeu de données que vous avez créé avec Data-type='weather/surface-weather-observations/synop', qui a préconfiguré la conversion de CSV en BUFR au modèle AWS.</p>
<p>Dans le prochain exercice, nous utiliserons le modèle 'DayCLI' pour convertir les données climatiques quotidiennes en BUFR.</p>
<p>La description du modèle DAYCLI peut être trouvée <a href="../../csv2bufr-templates/daycli-template/">ici</a>.</p>
<div class="admonition note">
<p class="admonition-title">À propos du modèle DAYCLI</p>
<p>Veuillez noter que la séquence BUFR DAYCLI sera mise à jour en 2025 pour inclure des informations supplémentaires et des drapeaux QC révisés. Le modèle DAYCLI inclus dans le wis2box sera mis à jour pour refléter ces changements. L'OMM communiquera lorsque le logiciel wis2box sera mis à jour pour inclure le nouveau modèle DAYCLI, afin de permettre aux utilisateurs de mettre à jour leurs systèmes en conséquence.</p>
</div>
<h3 id="creation-dun-jeu-de-donnees-wis2box-pour-la-publication-de-messages-daycli">Création d'un jeu de données wis2box pour la publication de messages DAYCLI</h3>
<p>Allez à l'éditeur de jeux de données dans l'application web wis2box et créez un nouveau jeu de données. Utilisez le même identifiant de centre que dans les sessions pratiques précédentes et sélectionnez <strong>Type de données='climate/surface-based-observations/daily'</strong> :</p>
<p><img alt="Créer un nouveau jeu de données dans l'application web wis2box pour DAYCLI" src="/../assets/img/wis2box-webapp-create-dataset-daycli.png"/></p>
<p>Cliquez sur "CONTINUER VERS LE FORMULAIRE" et ajoutez une description pour votre jeu de données, définissez la boîte englobante et fournissez les informations de contact pour le jeu de données. Une fois que vous avez rempli toutes les sections, cliquez sur 'VALIDER LE FORMULAIRE' et vérifiez le formulaire.</p>
<p>Examinez les plugins de données pour les jeux de données. Cliquez sur "MISE À JOUR" à côté du plugin avec le nom "Données CSV converties en BUFR" et vous verrez que le modèle est défini sur <strong>DayCLI</strong> :</p>
<p><img alt="Mettre à jour le plugin de données pour le jeu de données à utiliser le modèle DAYCLI" src="/../assets/img/wis2box-webapp-update-data-plugin-daycli.png"/></p>
<p>Fermez la configuration du plugin et soumettez le formulaire en utilisant le jeton d'authentification que vous avez créé lors de la session pratique précédente.</p>
<p>Vous devriez maintenant avoir un deuxième jeu de données dans l'application web wis2box configuré pour utiliser le modèle DAYCLI pour convertir les données CSV en BUFR.</p>
<h3 id="examiner-les-donnees-dentree-daycli-example">Examiner les données d'entrée daycli-example</h3>
<p>Téléchargez l'exemple pour cet exercice depuis le lien ci-dessous :</p>
<p><a href="../../../sample-data/daycli-example.csv">daycli-example.csv</a></p>
<p>Ouvrez le fichier que vous avez téléchargé dans un éditeur et inspectez le contenu :</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Quelles variables supplémentaires sont incluses dans le modèle daycli ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Le modèle daycli comprend des métadonnées importantes sur l'emplacement des instruments et les classifications de qualité des mesures de température et d'humidité, des drapeaux de contrôle de qualité et des informations sur la manière dont la température moyenne quotidienne a été calculée.</p>
</details>
<h3 id="mettre-a-jour-le-fichier-exemple_1">Mettre à jour le fichier exemple</h3>
<p>Le fichier exemple contient une ligne de données pour chaque jour d'un mois et rapporte des données pour une station. Mettez à jour le fichier exemple que vous avez téléchargé pour utiliser la date et l'heure d'aujourd'hui et changez les identifiants des stations WIGOS pour utiliser une station que vous avez enregistrée dans l'application web wis2box.</p>
<h3 id="telechargez-les-donnees-sur-minio-et-verifiez-le-resultat_1">Téléchargez les données sur MinIO et vérifiez le résultat</h3>
<p>Comme précédemment, vous devrez télécharger les données dans le seau 'wis2box-incoming' de MinIO pour être traitées par le convertisseur csv2bufr. Cette fois, vous devrez créer un nouveau dossier dans le seau MinIO qui correspond à l'identifiant du jeu de données pour le jeu de données que vous avez créé avec le modèle='climate/surface-based-observations/daily' qui sera différent de l'identifiant du jeu de données que vous avez utilisé dans l'exercice précédent :</p>
<p><img alt="Image montrant l'interface utilisateur MinIO avec DAYCLI-example téléchargé" src="/../assets/img/minio-upload-daycli-example.png"/></center></p>
<p>Après avoir téléchargé les données, vérifiez qu'il n'y a pas d'AVERTISSEMENTS ou d'ERREURS dans le tableau de bord Grafana et vérifiez l'explorateur MQTT pour voir si vous recevez des notifications de données WIS2.</p>
<p>Si vous avez réussi à ingérer les données, vous devriez voir 30 notifications dans l'explorateur MQTT sur le sujet <code>origin/a/wis2/&lt;centre-id&gt;/data/climate/surface-based-observations/daily</code> pour les 30 jours du mois pour lesquels vous avez rapporté des données :</p>
<p><img width="450" alt="Image montrant l'explorateur MQTT après le téléchargement de DAYCLI" src="/../assets/img/mqtt-daycli-template-success.png"/></p>
<h2 id="exercice-3-utilisation-du-formulaire-csv-dans-lapplication-web-wis2box-optionnel">Exercice 3 - Utilisation du formulaire CSV dans l'application web wis2box (optionnel)</h2>
<p>L'application web wis2box fournit une interface pour télécharger des données CSV et les convertir en BUFR avant de les publier sur le WIS2, en utilisant le modèle AWS.</p>
<p>L'utilisation de ce formulaire est destinée à des fins de débogage et de validation, la méthode de soumission recommandée pour publier des données provenant de stations météorologiques automatisées est de configurer un processus qui télécharge automatiquement les données dans le seau MinIO.</p>
<h3 id="utilisation-du-formulaire-csv-dans-lapplication-web-wis2box">Utilisation du formulaire CSV dans l'application web wis2box</h3>
<p>Naviguez vers le formulaire CSV sur l'application web wis2box
(<code>http://&lt;votre-nom-d'hôte&gt;/wis2box-webapp/csv2bufr_form</code>).
Utilisez le fichier <a href="../../../sample-data/aws-example.csv">aws-example.csv</a> pour cet exercice.
Vous devriez maintenant pouvoir cliquer à côté pour prévisualiser et valider le fichier.</p>
<center><img alt="Image montrant l'écran de téléchargement CSV vers BUFR" src="/../assets/img/csv2bufr-ex1.png"/></center>

<p>En cliquant sur le bouton suivant, le fichier est chargé dans le navigateur et validé contre un schéma prédéfini.
Aucune donnée n'a encore été convertie ou publiée. Sur l'onglet aperçu / validation, vous devriez être présenté avec une liste d'avertissements
sur les données manquantes mais dans cet exercice, ces avertissements peuvent être ignorés.</p>
<center><img alt="Image montrant la page de validation de l'exemple CSV vers BUFR avec des avertissements" src="/../assets/img/csv2bufr-warnings.png"/></center>

<p>Cliquez sur <em>suivant</em> pour continuer et vous serez invité à fournir un identifiant de jeu de données pour les données à publier. Sélectionnez l'identifiant du jeu de données que vous avez créé précédemment et cliquez sur <em>suivant</em>.</p>
<p>Vous devriez maintenant être sur une page d'autorisation où il vous sera demandé d'entrer le jeton <code>processes/wis2box</code>
que vous avez précédemment créé. Entrez ce jeton et cliquez sur l'interrupteur "Publier sur WIS2" pour vous assurer
que "Publier sur WIS2" est sélectionné (voir capture d'écran ci-dessous).</p>
<center><img alt="écran d'authentification et de publication csv2bufr" src="/../assets/img/csv2bufr-toggle-publish.png"/></center>

<p>Cliquez sur suivant pour transformer en BUFR et publier, vous devriez alors voir l'écran suivant :</p>
<center><img alt="Image montrant l'écran de succès de l'exemple CSV vers BUFR" src="/../assets/img/csv2bufr-success.png"/></center>

<p>En cliquant sur la flèche vers le bas à droite de <code>Fichiers BUFR de sortie</code>, les boutons <code>Télécharger</code> et <code>Inspecter</code> devraient apparaître.
Cliquez sur inspecter pour voir les données et confirmer que les valeurs sont comme prévu.</p>
<center><img alt="Image montrant l'inspection de la sortie CSV vers BUFR" src="/../assets/img/csv2bufr-inspect.png"/></center>

<h3 id="debogage-des-donnees-dentree-invalides">Débogage des données d'entrée invalides</h3>
<p>Dans cet exercice, nous examinerons ce qui se passe avec des données d'entrée invalides. Téléchargez le fichier exemple suivant en cliquant sur le
lien ci-dessous. Ce fichier contient les mêmes données que le premier fichier mais avec les colonnes vides supprimées.
Examinez le fichier et confirmez quelles colonnes ont été supprimées, puis suivez le même processus pour convertir les données en BUFR.</p>
<p><a href="../../../sample-data/csv2bufr-ex3a.csv">csv2bufr-ex3a.csv</a></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Avec les colonnes manquantes du fichier, avez-vous pu convertir les données en BUFR ?
Avez-vous remarqué un changement dans les avertissements sur la page de validation ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Vous auriez dû toujours être capable de convertir les données en BUFR mais les messages d'avertissement auront été mis à jour
pour indiquer que les colonnes étaient complètement manquantes plutôt que contenant</p>
</details>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>