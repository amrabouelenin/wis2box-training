
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://training.wis2box.wis.wmo.int/es/practical-sessions/downloading-data-from-wis2/">
      
      
        <link rel="prev" href="../datasets-with-access-control/">
      
      
        <link rel="next" href="../discovering-datasets-from-wis2-gdc/">
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Descarga y decodificación de datos desde WIS2 - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#descarga-y-decodificacion-de-datos-desde-wis2" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../../" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Descarga y decodificación de datos desde WIS2
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Seleccionar idioma">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../practical-sessions/downloading-data-from-wis2/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../fr/practical-sessions/downloading-data-from-wis2/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/practical-sessions/downloading-data-from-wis2/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ru/practical-sessions/downloading-data-from-wis2/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ar/practical-sessions/downloading-data-from-wis2/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hojas de referencia
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Hojas de referencia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WIS2 in a box cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Plantillas csv2bufr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Plantillas csv2bufr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantilla AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantilla DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sesiones prácticas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sesiones prácticas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conectándose a WIS2 a través de MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accessing-your-student-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acceso a tu VM de estudiante
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../initializing-wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicializando wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-wis2box-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración de conjuntos de datos en wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-station-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración de metadatos de estaciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingesting-data-for-publication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingesta de Datos para Publicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-conversion-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Herramientas de Conversión de Datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv2bufr-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantillas de mapeo de CSV a BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Añadiendo encabezados GTS a las notificaciones WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets-with-access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración de un conjunto de datos recomendado con control de acceso
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Descarga y decodificación de datos desde WIS2
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Descarga y decodificación de datos desde WIS2
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      Introducción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" class="md-nav__link">
    <span class="md-ellipsis">
      Preparación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizando-el-tablero-de-wis2downloader-en-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Visualizando el tablero de wis2downloader en Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisando-la-configuracion-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Revisando la configuración de wis2downloader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agregando-suscripciones-al-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Agregando suscripciones al wis2downloader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizando-los-datos-descargados" class="md-nav__link">
    <span class="md-ellipsis">
      Visualizando los datos descargados
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eliminando-suscripciones-del-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminando suscripciones del wis2downloader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descarga-y-decodificacion-de-datos-para-una-trayectoria-de-ciclon-tropical" class="md-nav__link">
    <span class="md-ellipsis">
      Descarga y decodificación de datos para una trayectoria de ciclón tropical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Descarga y decodificación de datos para una trayectoria de ciclón tropical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#suscribete-al-wis2training-broker-y-configura-una-nueva-suscripcion" class="md-nav__link">
    <span class="md-ellipsis">
      Suscríbete al wis2training-broker y configura una nueva suscripción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decodificando-los-datos-descargados" class="md-nav__link">
    <span class="md-ellipsis">
      Decodificando los datos descargados
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusión
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descubriendo conjuntos de datos desde el Catálogo Global de Descubrimiento WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      Introducción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" class="md-nav__link">
    <span class="md-ellipsis">
      Preparación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizando-el-tablero-de-wis2downloader-en-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Visualizando el tablero de wis2downloader en Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revisando-la-configuracion-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Revisando la configuración de wis2downloader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agregando-suscripciones-al-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Agregando suscripciones al wis2downloader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizando-los-datos-descargados" class="md-nav__link">
    <span class="md-ellipsis">
      Visualizando los datos descargados
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eliminando-suscripciones-del-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminando suscripciones del wis2downloader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#descarga-y-decodificacion-de-datos-para-una-trayectoria-de-ciclon-tropical" class="md-nav__link">
    <span class="md-ellipsis">
      Descarga y decodificación de datos para una trayectoria de ciclón tropical
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Descarga y decodificación de datos para una trayectoria de ciclón tropical">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#suscribete-al-wis2training-broker-y-configura-una-nueva-suscripcion" class="md-nav__link">
    <span class="md-ellipsis">
      Suscríbete al wis2training-broker y configura una nueva suscripción
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decodificando-los-datos-descargados" class="md-nav__link">
    <span class="md-ellipsis">
      Decodificando los datos descargados
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusión
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="descarga-y-decodificacion-de-datos-desde-wis2">Descarga y decodificación de datos desde WIS2</h1>
<div class="admonition abstract">
<p class="admonition-title">Resultados de aprendizaje!</p>
<p>Al final de esta sesión práctica, podrás:</p>
<ul>
<li>usar "wis2downloader" para suscribirte a notificaciones de datos de WIS2 y descargar datos a tu sistema local</li>
<li>ver el estado de las descargas en el tablero de Grafana</li>
<li>decodificar algunos datos descargados usando el contenedor "decode-bufr-jupyter"</li>
</ul>
</div>
<h2 id="introduccion">Introducción</h2>
<p>En esta sesión aprenderás cómo configurar una suscripción a un Broker de WIS2 y descargar automáticamente datos a tu sistema local usando el servicio "wis2downloader" incluido en wis2box.</p>
<div class="admonition note">
<p class="admonition-title">Acerca de wis2downloader</p>
<p>El wis2downloader también está disponible como un servicio independiente que puede ejecutarse en un sistema diferente al que está publicando las notificaciones de WIS2. Consulta <a href="https://pypi.org/project/wis2downloader/">wis2downloader</a> para más información sobre cómo usar el wis2downloader como un servicio independiente.</p>
<p>Si deseas desarrollar tu propio servicio para suscribirte a notificaciones de WIS2 y descargar datos, puedes usar el <a href="https://github.com/World-Meteorological-Organization/wis2downloader">código fuente de wis2downloader</a> como referencia.</p>
</div>
<div class="admonition other tools for accessing wis2 data">
<p class="admonition-title">Other</p>
<p>Las siguientes herramientas también pueden usarse para descubrir y acceder a datos de WIS2:</p>
<ul>
<li><a href="https://github.com/wmo-im/pywiscat">pywiscat</a> proporciona capacidad de búsqueda sobre el Catálogo Global de Descubrimiento de WIS2 en apoyo del reporte y análisis del Catálogo de WIS2 y sus metadatos de descubrimiento asociados</li>
<li><a href="https://github.com/World-Meteorological-Organization/pywis-pubsub">pywis-pubsub</a> proporciona capacidad de suscripción y descarga de datos de la OMM desde servicios de infraestructura de WIS2</li>
</ul>
</div>
<h2 id="preparacion">Preparación</h2>
<p>Antes de comenzar, por favor inicia sesión en tu VM de estudiante y asegúrate de que tu instancia de wis2box esté funcionando.</p>
<h2 id="visualizando-el-tablero-de-wis2downloader-en-grafana">Visualizando el tablero de wis2downloader en Grafana</h2>
<p>Abre un navegador web y navega al tablero de Grafana para tu instancia de wis2box yendo a <code>http://YOUR-HOST:3000</code>.</p>
<p>Haz clic en tableros en el menú de la izquierda, y luego selecciona el <strong>tablero de wis2downloader</strong>.</p>
<p>Deberías ver el siguiente tablero:</p>
<p><img alt="wis2downloader dashboard" src="../../../assets/img/wis2downloader-dashboard.png" /></p>
<p>Este tablero se basa en métricas publicadas por el servicio de wis2downloader y te mostrará el estado de las descargas que están en curso.</p>
<p>En la esquina superior izquierda puedes ver las suscripciones que están actualmente activas.</p>
<p>Mantén este tablero abierto ya que lo usarás para monitorear el progreso de la descarga en el próximo ejercicio.</p>
<h2 id="revisando-la-configuracion-de-wis2downloader">Revisando la configuración de wis2downloader</h2>
<p>El servicio de wis2downloader iniciado por el stack de wis2box puede configurarse usando las variables de entorno definidas en tu archivo wis2box.env.</p>
<p>Las siguientes variables de entorno son utilizadas por wis2downloader:</p>
<pre><code>- DOWNLOAD_BROKER_HOST: El nombre de host del broker MQTT al que conectarse. Por defecto es globalbroker.meteo.fr
- DOWNLOAD_BROKER_PORT: El puerto del broker MQTT al que conectarse. Por defecto es 443 (HTTPS para websockets)
- DOWNLOAD_BROKER_USERNAME: El nombre de usuario para conectarse al broker MQTT. Por defecto es everyone
- DOWNLOAD_BROKER_PASSWORD: La contraseña para conectarse al broker MQTT. Por defecto es everyone
- DOWNLOAD_BROKER_TRANSPORT: websockets o tcp, el mecanismo de transporte para conectarse al broker MQTT. Por defecto es websockets,
- DOWNLOAD_RETENTION_PERIOD_HOURS: El período de retención en horas para los datos descargados. Por defecto es 24
- DOWNLOAD_WORKERS: El número de trabajadores de descarga para usar. Por defecto es 8. Determina el número de descargas paralelas.
- DOWNLOAD_MIN_FREE_SPACE_GB: El espacio libre mínimo en GB para mantener en el volumen que aloja las descargas. Por defecto es 1.
</code></pre>
<p>Para revisar la configuración actual de wis2downloader, puedes usar el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box/wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>DOWNLOAD
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Revisa la configuración de wis2downloader</p>
<p>¿Cuál es el broker MQTT predeterminado al que se conecta wis2downloader?</p>
<p>¿Cuál es el período de retención predeterminado para los datos descargados?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>El broker MQTT predeterminado al que se conecta wis2downloader es <code>globalbroker.meteo.fr</code>.</p>
<p>El período de retención predeterminado para los datos descargados es de 24 horas.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Actualizando la configuración de wis2downloader</p>
<p>Para actualizar la configuración de wis2downloader, puedes editar el archivo wis2box.env. Para aplicar los cambios puedes volver a ejecutar el comando de inicio para el stack de wis2box:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Y verás que el servicio de wis2downloader se reinicia con la nueva configuración.</p>
</div>
<p>Puedes mantener la configuración predeterminada para el propósito de este ejercicio.</p>
<h2 id="agregando-suscripciones-al-wis2downloader">Agregando suscripciones al wis2downloader</h2>
<p>Dentro del contenedor <strong>wis2downloader</strong>, puedes usar la línea de comandos para listar, agregar y eliminar suscripciones.</p>
<p>Para iniciar sesión en el contenedor <strong>wis2downloader</strong>, usa el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Luego usa el siguiente comando para listar las suscripciones que están actualmente activas:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>list-subscriptions
</code></pre></div>
<p>Este comando devuelve una lista vacía ya que no hay suscripciones actualmente activas.</p>
<p>Para el propósito de este ejercicio, nos suscribiremos al siguiente tema <code>cache/a/wis2/de-dwd-gts-to-wis2/#</code>, para suscribirnos a datos publicados por la puerta de enlace GTS-to-WIS2 alojada por DWD y descargar notificaciones desde el Global Cache.</p>
<p>Para agregar esta suscripción, usa el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Luego sal del contenedor <strong>wis2downloader</strong> escribiendo <code>exit</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Revisa el tablero de wis2downloader en Grafana para ver la nueva suscripción agregada. Espera unos minutos y deberías ver que las primeras descargas comienzan. Ve al siguiente ejercicio una vez que hayas confirmado que las descargas están comenzando.</p>
<h2 id="visualizando-los-datos-descargados">Visualizando los datos descargados</h2>
<p>El servicio de wis2downloader en el stack de wis2box descarga los datos en el directorio 'downloads' en el directorio que definiste como WIS2BOX_HOST_DATADIR en tu archivo wis2box.env. Para ver el contenido del directorio de descargas, puedes usar el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Nota que los datos descargados están almacenados en directorios nombrados después del tema en el que se publicó la Notificación de WIS2.</p>
<h2 id="eliminando-suscripciones-del-wis2downloader">Eliminando suscripciones del wis2downloader</h2>
<p>A continuación, inicia sesión de nuevo en el contenedor de wis2downloader:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>y elimina la suscripción que hiciste del wis2downloader, usando el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>remove-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Y sal del contenedor de wis2downloader escribiendo <code>exit</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Revisa el tablero de wis2downloader en Grafana para ver la suscripción eliminada. Deberías ver que las descargas se detienen.</p>
<h2 id="descarga-y-decodificacion-de-datos-para-una-trayectoria-de-ciclon-tropical">Descarga y decodificación de datos para una trayectoria de ciclón tropical</h2>
<p>En este ejercicio, te suscribirás al Broker de Entrenamiento de WIS2 que está publicando datos de ejemplo para fines de entrenamiento. Configurarás una suscripción para descargar datos de una trayectoria de ciclón tropical. Luego decodificarás los datos descargados usando el contenedor "decode-bufr-jupyter".</p>
<h3 id="suscribete-al-wis2training-broker-y-configura-una-nueva-suscripcion">Suscríbete al wis2training-broker y configura una nueva suscripción</h3>
<p>Esto demuestra cómo suscribirse a un broker que no es el broker predeterminado y te permitirá descargar algunos datos publicados desde el Broker de Entrenamiento de WIS2.</p>
<p>Edita el archivo wis2box.env y cambia DOWNLOAD_BROKER_HOST a <code>wis2training-broker.wis2dev.io</code>, cambia DOWNLOAD_BROKER_PORT a <code>1883</code> y cambia DOWNLOAD_BROKER_TRANSPORT a <code>tcp</code>:</p>
<div class="highlight"><pre><span></span><code># configuración del descargador
DOWNLOAD_BROKER_HOST=wis2training-broker.wis2dev.io
DOWNLOAD_BROKER_PORT=1883
DOWNLOAD_BROKER_USERNAME=everyone
DOWNLOAD_BROKER_PASSWORD=everyone
# mecanismo de transporte de descarga (tcp o websockets)
DOWNLOAD_BROKER_TRANSPORT=tcp
</code></pre></div>
<p>Luego ejecuta el comando 'start' nuevamente para aplicar los cambios:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Revisa los registros de wis2downloader para ver si la conexión con el nuevo broker fue exitosa:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Deberías ver el siguiente mensaje de registro:</p>
<div class="highlight"><pre><span></span><code>...
INFO - Conectando...
INFO - Host: wis2training-broker.wis2dev.io, puerto: 1883
INFO - Conectado exitosamente
</code></pre></div>
<p>Ahora configuraremos una nueva suscripción al tema para descargar datos de trayectoria de ciclones desde el Broker de Entrenamiento de WIS2.</p>
<p>Inicia sesión en el contenedor <strong>wis2downloader</strong>:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Y ejecuta el siguiente comando (copia y pega esto para evitar errores tipográficos):</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
</code></pre></div>
<p>Sal del contenedor <strong>wis2downloader</strong> escribiendo <code>exit</code>.</p>
<p>Espera hasta que veas que las descargas comienzan en el tablero de wis2downloader en Grafana.</p>
<div class="admonition note">
<p class="admonition-title">Descargando datos del Broker de Entrenamiento de WIS2</p>
<p>El Broker de Entrenamiento de WIS2 es un broker de prueba que se usa para fines de entrenamiento y puede no publicar datos todo el tiempo.</p>
<p>Durante las sesiones de entrenamiento presenciales, el instructor local asegurará que el Broker de Entrenamiento de WIS2 publique datos para que los descargues.</p>
<p>Si estás haciendo este ejercicio fuera de una sesión de entrenamiento, es posible que no veas ningún dato siendo descargado.</p>
</div>
<p>Verifica que los datos fueron descargados revisando los registros de wis2downloader nuevamente con:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Deberías ver un mensaje de registro similar al siguiente:</p>
<div class="highlight"><pre><span></span><code>[...] INFO - Mensaje recibido bajo el tema origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
[...] INFO - Descargado A_JSXX05ECEP020000_C_ECMP_...
</code></pre></div>
<h3 id="decodificando-los-datos-descargados">Decodificando los datos descargados</h3>
<p>Para demostrar cómo puedes decodificar los datos descargados, iniciaremos un nuevo contenedor usando la imagen 'decode-bufr-jupyter'.</p>
<p>Este contenedor iniciará un servidor de cuadernos Jupyter en tu instancia que incluye la biblioteca "ecCodes" que puedes usar para decodificar datos BUFR.</p>
<p>Usaremos los cuadernos de ejemplo incluidos en <code>~/exercise-materials/notebook-examples</code> para decodificar los datos descargados de las trayectorias de ciclones.</p>
<p>Para iniciar el contenedor, usa el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--name<span class="w"> </span>decode-bufr-jupyter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v<span class="w"> </span>~/wis2box-data/downloads:/root/downloads<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-p<span class="w"> </span><span class="m">8888</span>:8888<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-e<span class="w"> </span><span class="nv">JUPYTER_TOKEN</span><span class="o">=</span>dataismagic!<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>mlimper/decode-bufr-jupyter
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Acerca del contenedor decode-bufr-jupyter</p>
<p>El contenedor <code>decode-bufr-jupyter</code> es un contenedor personalizado que incluye la biblioteca ecCodes y ejecuta un servidor de cuadernos Jupyter. El contenedor se basa en una imagen que incluye la biblioteca <code>ecCodes</code> para decodificar datos BUFR, junto con bibliotecas para trazado y análisis de datos.</p>
<p>El comando anterior inicia el contenedor en modo separado, con el nombre <code>decode-bufr-jupyter</code>, el puerto 8888 está mapeado al sistema host y la variable de entorno <code>JUPYTER_TOKEN</code> está configurada como <code>dataismagic!</code>.</p>
<p>El comando anterior también monta el directorio <code>~/wis2box-data/downloads</code> a <code>/root/downloads</code> en el contenedor. Esto asegura que los datos descargados estén disponibles para el servidor de cuadernos Jupyter.</p>
</div>
<p>Una vez que el contenedor esté iniciado, puedes acceder al servidor de cuadernos Jupyter navegando a <code>http://YOUR-HOST:8888</code> en tu navegador web.</p>
<p>Verás una pantalla solicitándote que ingreses una "Contraseña o token".</p>
<p>Proporciona el token <code>dataismagic!</code> para iniciar sesión en el servidor de cuadernos Jupyter.</p>
<p>Después de iniciar sesión, deberías ver la siguiente pantalla que lista los directorios en el contenedor:</p>
<p><img alt="Jupyter notebook home" src="../../../assets/img/jupyter-files-screen1.png" /></p>
<p>Haz doble clic en el directorio <code>example-notebooks</code> para abrirlo.</p>
<p>Deberías ver la siguiente pantalla que lista los cuadernos de ejemplo, haz doble clic en el cuaderno <code>tropical_cyclone_track.ipynb</code> para abrirlo:</p>
<p><img alt="Jupyter notebook example notebooks" src="../../../assets/img/jupyter-files-screen2.png" /></p>
<p>Ahora deberías estar en el cuaderno Jupyter para decodificar los datos de la trayectoria del ciclón tropical:</p>
<p><img alt="Jupyter notebook tropical cyclone track" src="../../../assets/img/jupyter-tropical-cyclone-track.png" /></p>
<p>Lee las instrucciones en el cuaderno y ejecuta las celdas para decodificar los datos descargados de las trayectorias de los ciclones tropicales. Ejecuta cada celda haciendo clic en la celda y luego en el botón de ejecución en la barra de herramientas o presionando <code>Shift+Enter</code>.</p>
<p>Al final deberías ver un gráfico de la probabilidad de impacto para las trayectorias de los ciclones tropicales:</p>
<p><img alt="Tropical cyclone tracks" src="../../../assets/img/tropical-cyclone-track-map.png" /></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>El resultado muestra la probabilidad predicha de la trayectoria de la tormenta tropical dentro de 200 km. ¿Cómo actualizarías el cuaderno para mostrar la probabilidad predicha de la trayectoria de la tormenta tropical dentro de 300 km?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>Para actualizar el cuaderno y mostrar la probabilidad predicha de la trayectoria de la tormenta tropical a una distancia diferente, puedes actualizar la variable <code>distance_threshold</code> en el bloque de código que calcula la probabilidad de impacto.</p>
<p>Para mostrar la probabilidad predicha de la trayectoria de la tormenta tropical dentro de 300 km,</p>
<div class="highlight"><pre><span></span><code><span class="c1"># establecer umbral de distancia (metros)</span>
<span class="n">distance_threshold</span> <span class="o">=</span> <span class="mi">300000</span>  <span class="c1"># 300 km en metros</span>
</code></pre></div>
<p>Luego, vuelve a ejecutar las celdas en el cuaderno para ver el gráfico actualizado.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Decodificación de datos BUFR</p>
<p>El ejercicio que acabas de realizar proporcionó un ejemplo específico de cómo puedes decodificar datos BUFR utilizando la biblioteca ecCodes. Diferentes tipos de datos pueden requerir diferentes pasos de decodificación y es posible que necesites consultar la documentación para el tipo de datos con el que estás trabajando.</p>
<p>Para más información, consulta la <a href="https://confluence.ecmwf.int/display/ECC">documentación de ecCodes</a>.</p>
</div>
<h2 id="conclusion">Conclusión</h2>
<div class="admonition success">
<p class="admonition-title">¡Felicidades!</p>
<p>En esta sesión práctica, aprendiste cómo:</p>
<ul>
<li>usar 'wis2downloader' para suscribirte a un WIS2 Broker y descargar datos a tu sistema local</li>
<li>ver el estado de las descargas en el tablero de Grafana</li>
<li>decodificar algunos datos descargados usando el contenedor 'decode-bufr-jupyter'</li>
</ul>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>