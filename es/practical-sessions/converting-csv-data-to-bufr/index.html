
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://training.wis2box.wis.wmo.int/es/practical-sessions/converting-csv-data-to-bufr/">
      
      
        <link rel="prev" href="../connecting-to-wis2-over-mqtt/">
      
      
        <link rel="next" href="../converting-synop-data-to-bufr-form/">
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Convertir datos CSV a BUFR - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#convertir-datos-csv-a-bufr" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../../" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Convertir datos CSV a BUFR
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Seleccionar idioma">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../fr/practical-sessions/converting-csv-data-to-bufr/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/practical-sessions/converting-csv-data-to-bufr/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ru/practical-sessions/converting-csv-data-to-bufr/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ar/practical-sessions/converting-csv-data-to-bufr/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Hojas de referencia
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Hojas de referencia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WIS2 in a box cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Plantillas csv2bufr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Plantillas csv2bufr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantilla AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantilla DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sesiones prácticas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sesiones prácticas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conectándose a WIS2 a través de MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accessing-your-student-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acceso a tu VM de estudiante
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../initializing-wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicializando wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-wis2box-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración de conjuntos de datos en wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-station-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración de metadatos de estaciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingesting-data-for-publication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingesta de Datos para Publicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-conversion-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Herramientas de Conversión de Datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv2bufr-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plantillas de mapeo de CSV a BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Añadiendo encabezados GTS a las notificaciones WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets-with-access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuración de un conjunto de datos recomendado con control de acceso
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../downloading-data-from-wis2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descarga y decodificación de datos desde WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descubriendo conjuntos de datos desde el Catálogo Global de Descubrimiento WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      Introducción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" class="md-nav__link">
    <span class="md-ellipsis">
      Preparación
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-1-usar-csv2bufr-con-la-plantilla-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 1: Usar csv2bufr con la plantilla 'AWS'
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio 1: Usar csv2bufr con la plantilla &#39;AWS&#39;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revisar-los-datos-de-entrada-de-ejemplo-aws" class="md-nav__link">
    <span class="md-ellipsis">
      Revisar los datos de entrada de ejemplo aws
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizar-el-archivo-de-ejemplo" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizar el archivo de ejemplo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subir-los-datos-a-minio-y-verificar-el-resultado" class="md-nav__link">
    <span class="md-ellipsis">
      Subir los datos a MinIO y verificar el resultado
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-2-usar-la-plantilla-daycli" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2 - Usar la plantilla 'DayCLI'
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio 2 - Usar la plantilla &#39;DayCLI&#39;">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-un-conjunto-de-datos-wis2box-para-publicar-mensajes-daycli" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un conjunto de datos wis2box para publicar mensajes DAYCLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revisar-los-datos-de-entrada-de-ejemplo-daycli" class="md-nav__link">
    <span class="md-ellipsis">
      Revisar los datos de entrada de ejemplo daycli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizar-el-archivo-de-ejemplo_1" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizar el archivo de ejemplo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subir-los-datos-a-minio-y-verificar-el-resultado_1" class="md-nav__link">
    <span class="md-ellipsis">
      Subir los datos a MinIO y verificar el resultado
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicio-3-usando-el-formulario-csv-en-wis2box-webapp-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 3 - usando el formulario CSV en wis2box-webapp (opcional)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicio 3 - usando el formulario CSV en wis2box-webapp (opcional)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usar-el-formulario-csv-en-la-aplicacion-web-wis2box" class="md-nav__link">
    <span class="md-ellipsis">
      Usar el formulario CSV en la aplicación web wis2box
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#depuracion-de-datos-de-entrada-invalidos" class="md-nav__link">
    <span class="md-ellipsis">
      Depuración de datos de entrada inválidos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="convertir-datos-csv-a-bufr">Convertir datos CSV a BUFR</h1>
<div class="admonition abstract">
<p class="admonition-title">Resultados de aprendizaje</p>
<p>Al final de esta sesión práctica, serás capaz de:</p>
<ul>
<li>usar la <strong>Interfaz de Usuario de MinIO</strong> para subir archivos de datos CSV de entrada y monitorear el resultado</li>
<li>conocer el formato de datos CSV para usar con la plantilla automática de estación meteorológica BUFR por defecto</li>
<li>usar el editor de conjuntos de datos en la <strong>aplicación web wis2box</strong> para crear un conjunto de datos para publicar mensajes DAYCLI</li>
<li>conocer el formato de datos CSV para usar con la plantilla DAYCLI BUFR</li>
<li>usar <strong>wis2box webapp</strong> para validar y convertir datos de muestra para estaciones AWS a BUFR (opcional)</li>
</ul>
</div>
<h2 id="introduccion">Introducción</h2>
<p>Los archivos de datos de valores separados por comas (CSV) se utilizan a menudo para registrar datos observacionales y otros datos en un formato tabular.
La mayoría de los registradores de datos utilizados para registrar la salida de sensores pueden exportar las observaciones en archivos delimitados, incluyendo en CSV.
De manera similar, cuando los datos se ingieren en una base de datos, es fácil exportar los datos requeridos en archivos formateados CSV.
Para ayudar en el intercambio de datos originalmente almacenados en formatos de datos tabulares, se ha implementado un convertidor de CSV a BUFR en
wis2box utilizando el mismo software que para SYNOP a BUFR.</p>
<p>En esta sesión aprenderás sobre el uso del convertidor csv2bufr en wis2box para las siguientes plantillas integradas:</p>
<ul>
<li><strong>AWS</strong> (aws-template.json) : Plantilla de mapeo para convertir datos CSV de un archivo simplificado de estación meteorológica automática a la secuencia BUFR 301150, 307096"</li>
<li><strong>DayCLI</strong> (daycli-template.json) : Plantilla de mapeo para convertir datos CSV climáticos diarios a la secuencia BUFR 307075</li>
</ul>
<h2 id="preparacion">Preparación</h2>
<p>Asegúrate de que el stack de wis2box haya sido iniciado con <code>python3 wis2box.py start</code></p>
<p>Asegúrate de que tienes un navegador web abierto con la Interfaz de Usuario de MinIO para tu instancia yendo a <code>http://&lt;tu-host&gt;:9000</code>
Si no recuerdas tus credenciales de MinIO, puedes encontrarlas en el archivo <code>wis2box.env</code> en el directorio <code>wis2box-1.0.0rc1</code> en tu VM de estudiante.</p>
<p>Asegúrate de que tienes MQTT Explorer abierto y conectado a tu broker usando las credenciales <code>everyone/everyone</code>.</p>
<h2 id="ejercicio-1-usar-csv2bufr-con-la-plantilla-aws">Ejercicio 1: Usar csv2bufr con la plantilla 'AWS'</h2>
<p>La plantilla 'AWS' proporciona una plantilla de mapeo predefinida para convertir datos CSV de estaciones AWS en apoyo a los requisitos de informes de GBON.</p>
<p>La descripción de la plantilla AWS se puede encontrar <a href="../../csv2bufr-templates/aws-template/">aquí</a>.</p>
<h3 id="revisar-los-datos-de-entrada-de-ejemplo-aws">Revisar los datos de entrada de ejemplo aws</h3>
<p>Descarga el ejemplo para este ejercicio desde el enlace a continuación:</p>
<p><a href="../../../sample-data/aws-example.csv">aws-example.csv</a></p>
<p>Abre el archivo que descargaste en un editor e inspecciona el contenido:</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Examinando los campos de fecha, hora e identificación (identificadores WIGOS y tradicionales) ¿qué
notas? ¿Cómo se representaría la fecha de hoy?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>Cada columna contiene una sola pieza de información. Por ejemplo, la fecha se divide en
año, mes y día, reflejando cómo se almacenan los datos en BUFR. La fecha de hoy se dividiría
en las columnas "año", "mes" y "día". De manera similar, la hora necesita ser
dividida en "hora" y "minuto" y el identificador de la estación WIGOS en sus respectivos componentes.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Mirando el archivo de datos, ¿cómo se codifican los datos faltantes?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>Los datos faltantes en el archivo están representados por celdas vacías. En un archivo CSV esto sería
codificado por <code>,,</code>. Nota que esto es una celda vacía y no codificada como una cadena de longitud cero,
e.g. <code>,"",</code>.</p>
</details>
<div class="admonition hint">
<p class="admonition-title">Datos faltantes</p>
<p>Se reconoce que los datos pueden faltar por una variedad de razones, ya sea debido a fallos del sensor
o al parámetro no observado. En estos casos, los datos faltantes pueden codificarse
según la respuesta anterior, los otros datos en el informe siguen siendo válidos.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>¿Cuáles son los identificadores de estación WIGOS para las estaciones que reportan datos en el archivo de ejemplo? ¿Cómo se definen en el archivo de entrada?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>El identificador de estación WIGOS está definido por 4 columnas separadas en el archivo:</p>
<ul>
<li><strong>wsi_series</strong>: Serie de identificador WIGOS</li>
<li><strong>wsi_issuer</strong>: Emisor WIGOS del identificador</li>
<li><strong>wsi_issue_number</strong>: Número de emisión WIGOS</li>
<li><strong>wsi_local</strong>: Identificador local WIGOS</li>
</ul>
<p>Los identificadores de estación WIGOS utilizados en el archivo de ejemplo son <code>0-20000-0-60351</code>, <code>0-20000-0-60355</code> y <code>0-20000-0-60360</code>. </p>
</details>
<h3 id="actualizar-el-archivo-de-ejemplo">Actualizar el archivo de ejemplo</h3>
<p>Actualiza el archivo de ejemplo que descargaste para usar la fecha y hora de hoy y cambia los identificadores de estación WIGOS para usar estaciones que hayas registrado en wis2box-webapp.</p>
<h3 id="subir-los-datos-a-minio-y-verificar-el-resultado">Subir los datos a MinIO y verificar el resultado</h3>
<p>Navega a la Interfaz de Usuario de MinIO y inicia sesión usando las credenciales del archivo <code>wis2box.env</code>.</p>
<p>Navega a <strong>wis2box-incoming</strong> y haz clic en el botón "Crear nueva ruta":</p>
<p><img alt="Imagen mostrando la Interfaz de Usuario de MinIO con el botón de crear carpeta destacado" src="/../assets/img/minio-create-new-path.png"/></p>
<p>Crea una nueva carpeta en el bucket de MinIO que coincida con el id de conjunto de datos para el conjunto de datos que creaste con la plantilla='weather/surface-weather-observations/synop':</p>
<p><img alt="Imagen mostrando la Interfaz de Usuario de MinIO con el botón de crear carpeta destacado" src="/../assets/img/minio-create-new-path-metadata_id.png"/></p>
<p>Sube el archivo de ejemplo que descargaste a la carpeta que creaste en el bucket de MinIO:</p>
<p><img alt="Imagen mostrando la Interfaz de Usuario de MinIO con aws-example subido" src="/../assets/img/minio-upload-aws-example.png"/></center></p>
<p>Revisa el tablero de Grafana en <code>http://&lt;tu-host&gt;:3000</code> para ver si hay alguna ADVERTENCIA o ERROR. Si ves alguno, intenta solucionarlo y repite el ejercicio.</p>
<p>Revisa el MQTT Explorer para ver si recibes notificaciones de datos WIS2.</p>
<p>Si has ingestado los datos con éxito, deberías ver 3 notificaciones en el explorador MQTT en el tema <code>origin/a/wis2/&lt;id-centro&gt;/data/weather/surface-weather-observations/synop</code> para las 3 estaciones de las que informaste datos:</p>
<p><img width="450" alt="Imagen mostrando el explorador MQTT después de subir AWS" src="/../assets/img/mqtt-explorer-aws-upload.png"/></p>
<h2 id="ejercicio-2-usar-la-plantilla-daycli">Ejercicio 2 - Usar la plantilla 'DayCLI'</h2>
<p>En el ejercicio anterior usamos el conjunto de datos que creaste con el tipo de datos='weather/surface-weather-observations/synop', que ha preconfigurado la plantilla de conversión de CSV a BUFR a la plantilla AWS.</p>
<p>En el próximo ejercicio usaremos la plantilla 'DayCLI' para convertir datos climáticos diarios a BUFR.</p>
<p>La descripción de la plantilla DAYCLI se puede encontrar <a href="../../csv2bufr-templates/daycli-template/">aquí</a>.</p>
<div class="admonition note">
<p class="admonition-title">Acerca de la plantilla DAYCLI</p>
<p>Ten en cuenta que la secuencia BUFR DAYCLI se actualizará durante 2025 para incluir información adicional y banderas de control de calidad revisadas. La plantilla DAYCLI incluida en wis2box se actualizará para reflejar estos cambios. La OMM comunicará cuando el software de wis2box se actualice para incluir la nueva plantilla DAYCLI, para permitir a los usuarios actualizar sus sistemas en consecuencia.</p>
</div>
<h3 id="crear-un-conjunto-de-datos-wis2box-para-publicar-mensajes-daycli">Crear un conjunto de datos wis2box para publicar mensajes DAYCLI</h3>
<p>Ve al editor de conjuntos de datos en la aplicación web wis2box y crea un nuevo conjunto de datos. Usa el mismo id de centro que en las sesiones prácticas anteriores y selecciona <strong>Tipo de Datos='climate/surface-based-observations/daily'</strong>:</p>
<p><img alt="Crear un nuevo conjunto de datos en la aplicación web wis2box para DAYCLI" src="/../assets/img/wis2box-webapp-create-dataset-daycli.png"/></p>
<p>Haz clic en "CONTINUAR AL FORMULARIO" y añade una descripción para tu conjunto de datos, establece el cuadro delimitador y proporciona la información de contacto para el conjunto de datos. Una vez que hayas terminado de llenar todas las secciones, haz clic en 'VALIDAR FORMULARIO' y revisa el formulario.</p>
<p>Revisa los complementos de datos para los conjuntos de datos. Haz clic en "ACTUALIZAR" al lado del complemento con nombre "Datos CSV convertidos a BUFR" y verás que la plantilla está configurada para <strong>DayCLI</strong>:</p>
<p><img alt="Actualizar el complemento de datos para el conjunto de datos para usar la plantilla DAYCLI" src="/../assets/img/wis2box-webapp-update-data-plugin-daycli.png"/></p>
<p>Cierra la configuración del complemento y envía el formulario usando el token de autenticación que creaste en la sesión práctica anterior.</p>
<p>Ahora deberías tener un segundo conjunto de datos en la aplicación web wis2box configurado para usar la plantilla DAYCLI para convertir datos CSV a BUFR.</p>
<h3 id="revisar-los-datos-de-entrada-de-ejemplo-daycli">Revisar los datos de entrada de ejemplo daycli</h3>
<p>Descarga el ejemplo para este ejercicio desde el enlace a continuación:</p>
<p><a href="../../../sample-data/daycli-example.csv">daycli-example.csv</a></p>
<p>Abre el archivo que descargaste en un editor e inspecciona el contenido:</p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>¿Qué variables adicionales están incluidas en la plantilla daycli?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>La plantilla daycli incluye metadatos importantes sobre el emplazamiento del instrumento y las clasificaciones de calidad de medición para temperatura y humedad, banderas de control de calidad e información sobre cómo se ha calculado la temperatura media diaria.</p>
</details>
<h3 id="actualizar-el-archivo-de-ejemplo_1">Actualizar el archivo de ejemplo</h3>
<p>El archivo de ejemplo contiene una fila de datos para cada día en un mes, e informa datos para una estación. Actualiza el archivo de ejemplo que descargaste para usar la fecha y hora de hoy y cambia los identificadores de estación WIGOS para usar una estación que hayas registrado en wis2box-webapp.</p>
<h3 id="subir-los-datos-a-minio-y-verificar-el-resultado_1">Subir los datos a MinIO y verificar el resultado</h3>
<p>Como antes, necesitarás subir los datos al bucket 'wis2box-incoming' en MinIO para ser procesados por el convertidor csv2bufr. Esta vez necesitarás crear una nueva carpeta en el bucket de MinIO que coincida con el id de conjunto de datos para el conjunto de datos que creaste con la plantilla='climate/surface-based-observations/daily' que será diferente del id de conjunto de datos que usaste en el ejercicio anterior:</p>
<p><img alt="Imagen mostrando la Interfaz de Usuario de MinIO con DAYCLI-example subido" src="/../assets/img/minio-upload-daycli-example.png"/></center></p>
<p>Después de subir los datos, verifica que no haya ADVERTENCIAS o ERRORES en el tablero de Grafana y revisa el explorador MQTT para ver si recibes notificaciones de datos WIS2.</p>
<p>Si has ingestado los datos con éxito, deberías ver 30 notificaciones en el explorador MQTT en el tema <code>origin/a/wis2/&lt;id-centro&gt;/data/climate/surface-based-observations/daily</code> para los 30 días del mes que informaste datos para:</p>
<p><img width="450" alt="Imagen mostrando el explorador MQTT después de subir DAYCLI" src="/../assets/img/mqtt-daycli-template-success.png"/></p>
<h2 id="ejercicio-3-usando-el-formulario-csv-en-wis2box-webapp-opcional">Ejercicio 3 - usando el formulario CSV en wis2box-webapp (opcional)</h2>
<p>La aplicación web wis2box proporciona una interfaz para subir datos CSV y convertirlos a BUFR antes de publicarlos en WIS2, usando la plantilla AWS.</p>
<p>El uso de este formulario está destinado a propósitos de depuración y validación, el método de envío recomendado para publicar datos de Estaciones Meteorológicas Automatizadas es configurar un proceso que suba automáticamente los datos al bucket de MinIO.</p>
<h3 id="usar-el-formulario-csv-en-la-aplicacion-web-wis2box">Usar el formulario CSV en la aplicación web wis2box</h3>
<p>Navega al formulario CSV en la aplicación web wis2box
(<code>http://&lt;tu-nombre-de-host&gt;/wis2box-webapp/csv2bufr_form</code>).
Usa el archivo <a href="../../../sample-data/aws-example.csv">aws-example.csv</a> para este ejercicio.
Ahora deberías poder hacer clic en siguiente para previsualizar y validar el archivo.</p>
<center><img alt="Imagen mostrando la pantalla de carga de CSV a BUFR" src="/../assets/img/csv2bufr-ex1.png"/></center>

<p>Al hacer clic en el botón siguiente, se carga el archivo en el navegador y se valida el contenido contra un esquema predefinido.
Aún no se ha convertido ni publicado ningún dato. En la pestaña de previsualización / validación, se te debería presentar una lista de advertencias
sobre datos faltantes, pero en este ejercicio se pueden ignorar.</p>
<center><img alt="Imagen mostrando la página de validación de ejemplo de CSV a BUFR con advertencias" src="/../assets/img/csv2bufr-warnings.png"/></center>

<p>Haz clic en <em>siguiente</em> para continuar y se te pedirá que proporciones un id de conjunto de datos para los datos a publicar. Selecciona el id de conjunto de datos que creaste anteriormente y haz clic en <em>siguiente</em>.</p>
<p>Ahora deberías estar en una página de autorización donde se te pedirá que ingreses el token <code>processes/wis2box</code>
que has creado previamente. Ingresa este token y haz clic en el interruptor "Publicar en WIS2" para asegurarte
de que "Publicar en WIS2" esté seleccionado (ver captura de pantalla a continuación).</p>
<center><img alt="pantalla de autenticación y publicación csv2bufr" src="/../assets/img/csv2bufr-toggle-publish.png"/></center>

<p>Haz clic en siguiente para transformar a BUFR y publicar, luego deberías ver la siguiente pantalla:</p>
<center><img alt="Imagen mostrando la pantalla de éxito de ejemplo de CSV a BUFR" src="/../assets/img/csv2bufr-success.png"/></center>

<p>Al hacer clic en la flecha hacia abajo a la derecha de <code>Archivos BUFR de salida</code> deberían aparecer los botones <code>Descargar</code> e <code>Inspeccionar</code>.
Haz clic en inspeccionar para ver los datos y confirmar que los valores son los esperados.</p>
<center><img alt="Imagen mostrando la inspección de salida de CSV a BUFR" src="/../assets/img/csv2bufr-inspect.png"/></center>

<h3 id="depuracion-de-datos-de-entrada-invalidos">Depuración de datos de entrada inválidos</h3>
<p>En este ejercicio examinaremos qué sucede con los datos de entrada inválidos. Descarga el siguiente archivo de ejemplo haciendo clic en el
enlace a continuación. Este contiene los mismos datos que el primer archivo pero con las columnas vacías eliminadas.
Examina el archivo y confirma qué columnas han sido eliminadas y luego sigue el mismo proceso para convertir los datos a BUFR.</p>
<p><a href="../../../sample-data/csv2bufr-ex3a.csv">csv2bufr-ex3a.csv</a></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Con las columnas faltantes en el archivo, ¿pudiste convertir los datos a BUFR?
¿Notaste algún cambio en las advertencias en la página de validación?</p>
</div>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>Deberías haber podido convertir los datos a BUFR, pero los mensajes de advertencia se habrán actualizado
para indicar que las columnas faltaban completamente en lugar de contener un valor faltante.</p>
</details>
<p>En este siguiente ejemplo se ha añadido una columna adicional al archivo CSV.</p>
<p><a href="../../../sample-data/csv2bufr-ex3b.csv">csv2bufr-ex3b.csv</a></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Sin subir ni enviar el archivo, ¿puedes predecir qué sucederá cuando lo hagas?</p>
</div>
<p>Ahora sube y confirma si tu predicción fue correcta.</p>
<details class="success">
<summary>Haz clic para revelar la respuesta</summary>
<p>Cuando se valide el archivo, ahora deberías recibir una advertencia de que la columna <code>index</code>
no se encuentra en el esquema y que los datos serán omitidos. Deberías poder hacer clic
y convertir a BUFR como en el ejemplo anterior.</p>
</details>
<p>En el último ejemplo de este ejercicio, los datos han sido modificados. Examina el contenido del archivo CSV.</p>
<p><a href="../../../sample-data/csv2bufr-ex3c.csv">csv2bufr-ex3c.csv</a></p>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>¿Qué ha cambiado en el archivo y qué crees que sucederá?</p>
</div>
<p>Ahora sube el archivo y confirma si estabas en lo correcto.</p>
<details class="warning">
<summary>Haz clic para revelar la respuesta</summary>
<p>Los campos de presión han sido convertidos de Pa a hPa en los datos de entrada. Sin embargo, el convertidor de CSV a BUFR
espera las mismas unidades que BUFR (Pa) y, como resultado, estos campos fallan la validación por estar
fuera de rango. Deberías poder editar el CSV para corregir el problema y volver a enviar los datos regresando
a la primera pantalla y</p>
</details>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>